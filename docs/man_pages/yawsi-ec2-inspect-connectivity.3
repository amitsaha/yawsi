.TH "MINE" "3" "Jun 2019" "Auto generated by spf13/cobra" "" 
.nh
.ad l


.SH NAME
.PP
yawsi\-ec2\-inspect\-connectivity \- Check connectivity between two EC2 instances on a port


.SH SYNOPSIS
.PP
\fByawsi ec2 inspect connectivity [flags]\fP


.SH DESCRIPTION
.PP
This sub\-command allows for running more fine grained connectivity checks. Examples follow:

.PP
Can we connect to instance i\-03fb71646161e8626 from i\-06d80024e0df241da on TCP port 5985 using the
destination's private IP address:

.PP
.RS

.nf
$ yawsi ec2  inspect connectivity i\-06d80024e0df241da \-\-to i\-03fb71646161e8626 \-\-dport 5985 \-\-protocol tcp \-\-using\-private\-ip
true

.fi
.RE

.PP
The \-\-verbose flag gives us more information about the checks that are run:

.PP
.RS

.nf
yawsi ec2 inspect connectivity i\-0a80024e0df241da \-\-to i\-03fb71646161e8626 \-\-dport 5985 \-\-protocol tcp \-\-destination\-private\-ip 172.31.13.182 \-\-verbose
✔ Egress ACL from Subnet subnet\-ecd74e89
✔ Route exists from Source to Destination
✔ Ingress ACL at Destination from 172.31.41.185
✔ Egress ACL from Subnet subnet\-157b9470
✔ Egress ACL from Subnet subnet\-0e57366b
✔ Route exists from Destination to Source
✔ Security Group at Source allows Egress Traffic
✔ Security Group at Destination allows Ingress traffic from 172.31.41.185
true
true

.fi
.RE

.PP
This command also has logic around non\-obvious issues. For example, if by mistake, we are trying to
use the Public IP address of an instance in a VPC to connect from another instance and we are relying on
ingress security group rules to allow access, it will not work \- we will have to use the private IP address.

.PP
Since AWS Network ACLs are stateless and your network setup may be setup to explicitly allow a certain range
of ephermal ports for incoming connections, you can specify a custom ephermal port range. By default, it is
32768\-61000. To specify a custom ephermal port range, use \-\-override\-ephermal\-port\-range

.PP
.RS

.nf
yawsi ec2 inspect connectivity i\-03fb71646161e8626 \-\-to i\-d3ed150c \-\-dport 20014 \-\-protocol TCP \\
    \-\-destination\-private\-ip 172.31.13.182 \-\-override\-ephermal\-port\-range 49152,65535 \-\-verbose

.fi
.RE


.SH OPTIONS
.PP
\fB\-\-debug\fP[=false]
    Display more information about the result

.PP
\fB\-\-destination\-private\-ip\fP=""
    Specify private IP address of destination

.PP
\fB\-\-dport\fP=\-1
    Destination port

.PP
\fB\-h\fP, \fB\-\-help\fP[=false]
    help for connectivity

.PP
\fB\-\-override\-ephermal\-port\-range\fP=""
    Override ephermal port range

.PP
\fB\-\-protocol\fP=""
    Network protocol (TCP/UDP)

.PP
\fB\-\-to\fP=""
    Connectivity Destination \- EC2 instance Id/IP address/public

.PP
\fB\-\-using\-public\-ip\fP[=false]
    Using public IP?

.PP
\fB\-v\fP, \fB\-\-verbose\fP[=false]
    Display more information about the result


.SH SEE ALSO
.PP
\fByawsi\-ec2\-inspect(3)\fP


.SH HISTORY
.PP
14\-Jun\-2019 Auto generated by spf13/cobra
