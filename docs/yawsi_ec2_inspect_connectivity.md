## yawsi ec2 inspect connectivity

Check connectivity between two EC2 instances on a port

### Synopsis


This sub-command allows for running more fine grained connectivity checks. Examples follow:

Can we connect to instance i-03fb71646161e8626 from i-06d80024e0df241da on TCP port 5985 using the
destination's private IP address:



	$ yawsi ec2  inspect connectivity i-06d80024e0df241da --to i-03fb71646161e8626 --dport 5985 --protocol tcp --using-private-ip
	true


The --verbose flag gives us more information about the checks that are run:


	yawsi ec2 inspect connectivity i-0a80024e0df241da --to i-03fb71646161e8626 --dport 5985 --protocol tcp --destination-private-ip 172.31.13.182 --verbose
	✔ Egress ACL from Subnet subnet-ecd74e89
	✔ Route exists from Source to Destination
	✔ Ingress ACL at Destination from 172.31.41.185
	✔ Egress ACL from Subnet subnet-157b9470
	✔ Egress ACL from Subnet subnet-0e57366b
	✔ Route exists from Destination to Source
	✔ Security Group at Source allows Egress Traffic
	✔ Security Group at Destination allows Ingress traffic from 172.31.41.185
	true
	true


This command also has logic around non-obvious issues. For example, if by mistake, we are trying to
use the Public IP address of an instance in a VPC to connect from another instance and we are relying on
ingress security group rules to allow access, it will not work - we will have to use the private IP address.


Since AWS Network ACLs are stateless and your network setup may be setup to explicitly allow a certain range
of ephermal ports for incoming connections, you can specify a custom ephermal port range. By default, it is
32768-61000. To specify a custom ephermal port range, use --override-ephermal-port-range


	yawsi ec2 inspect connectivity i-03fb71646161e8626 --to i-d3ed150c --dport 20014 --protocol TCP \
		--destination-private-ip 172.31.13.182 --override-ephermal-port-range 49152,65535 --verbose
	

```
yawsi ec2 inspect connectivity [flags]
```

### Options

```
      --debug                                 Display more information about the result
      --destination-private-ip string         Specify private IP address of destination
      --dport int                             Destination port (default -1)
  -h, --help                                  help for connectivity
      --override-ephermal-port-range string   Override ephermal port range
      --protocol string                       Network protocol (TCP/UDP)
      --to string                             Connectivity Destination - EC2 instance Id/IP address/public
      --using-public-ip                       Using public IP?
  -v, --verbose                               Display more information about the result
```

### SEE ALSO
* [yawsi ec2 inspect](yawsi_ec2_inspect.md)	 - Perform various checks

###### Auto generated by spf13/cobra on 7-Aug-2019
